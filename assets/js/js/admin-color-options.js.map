{"version":3,"file":"js/admin-color-options.js","mappings":"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","sources":["webpack://custom-admin-color-options/./src/js/admin-color-options.js"],"sourcesContent":["(function($) {\n    function updateColorIndicator(scheme) {\n        const $indicator = $('#color-indicator');\n        let selectedPalette = $('#custom-admin-color-picker .color-option input[type=radio]:checked')\n            .siblings('.color-palette').html();\n\n        $indicator.children('span').addClass('old-palette-shade');\n        $indicator.append(`<span class=\"new-palette\">${selectedPalette}</span>`);\n        const $newShades = $indicator.find('.new-palette .color-palette-shade');\n\n        setTimeout(function() {\n            $indicator.find('.new-palette').removeClass('new-palette');\n        }, 500);\n\n        setTimeout(function() {\n            $indicator.find('.old-palette-shade').remove();\n        }, 1000);\n    }\n\n    function applyColorScheme(scheme) {\n        let existingLink = $('#admin-color-css');\n        if (existingLink.length) {\n            existingLink.remove();\n        }\n        if (scheme === 'fresh') {\n            $('#admin-color-css').length && $('#admin-color-css').remove();\n            $('#colors-css').length && $('#colors-css').remove();\n            return;\n        }\n        let cssUrl = `${colorOptionsAjax.adminUrl}css/colors/${scheme}/colors.min.css`;\n        $('<link>', {\n            id: 'admin-color-css',\n            rel: 'stylesheet',\n            href: cssUrl,\n            type: 'text/css'\n        }).appendTo('head');\n    }\n\n    function updateDayNightTheme(theme) {\n        var currentHour = new Date().getHours();\n        var isDaytime = currentHour >= 6 && currentHour < 18;\n        var dayColorSelected = $('#day_color_scheme').val();\n        var nightColorSelected = $('#night_color_scheme').val();\n\n        if (isDaytime && dayColorSelected === '') {\n            saveThemeAsDefault(theme);\n        } else if (!isDaytime && nightColorSelected === '') {\n            saveThemeAsDefault(theme);\n        } else {\n            $.post(colorOptionsAjax.ajax_url, {\n                action: 'set_day_night_color_scheme',\n                theme: theme,\n                type: isDaytime ? 'day' : 'night',\n                nonce: colorOptionsAjax.nonce\n            }, function(response) {\n                if (response.success) {\n                    if (isDaytime && dayColorSelected !== '') {\n                        $('#day_color_scheme').val(theme);\n                    } else if (!isDaytime && nightColorSelected !== '') {\n                        $('#night_color_scheme').val(theme);\n                    }\n                } else {\n                    alert('An error occurred while setting the day/night theme.');\n                }\n            });\n        }\n    }\n\n    function saveThemeAsDefault(theme) {\n        $.post(colorOptionsAjax.ajax_url, {\n            action: 'set_default_color_scheme',\n            theme: theme,\n            nonce: colorOptionsAjax.nonce\n        }, function(response) {\n            if (!response.success) {\n                alert('An error occurred while setting the default theme.');\n            }\n        });\n    }\n\n    $(document).ready(function() {\n        $('#custom-admin-color-picker input[type=radio]').on('mouseenter', function() {\n            let colorScheme = $(this).val();\n            applyColorScheme(colorScheme);\n        }).on('mouseleave', function() {\n            let selectedScheme = $('#custom-admin-color-picker input[type=radio]:checked').val();\n            applyColorScheme(selectedScheme);\n        });\n\n        $('#custom-admin-color-picker input[type=radio]').on('click', function() {\n            let colorScheme = $(this).val();\n            $(this).closest('.color-option').addClass('selected').siblings().removeClass('selected');\n            $.post(colorOptionsAjax.ajax_url, {\n                action: 'set_admin_color_scheme',\n                color: colorScheme,\n                nonce: colorOptionsAjax.nonce\n            }, function(response) {\n                if (response.success) {\n                    applyColorScheme(colorScheme);\n                    updateColorIndicator(colorScheme);\n                    $('#your-profile input[name=admin_color][value=' + colorScheme + ']').prop('checked', true);\n                } else {\n                    alert(response.data || 'An error occurred while setting the color scheme.');\n                }\n            });\n        });\n\n        $('#custom-admin-color-picker input[type=radio]').on('click', function() {\n            var selectedTheme = $(this).val();\n            updateDayNightTheme(selectedTheme);\n        });\n\n        $('#your-profile #color-picker .color-option').on('click', function() {\n            var colorScheme = $(this).find('input[type=radio]').val();\n            $('#custom-admin-color-picker input[type=radio][value=' + colorScheme + ']').click();\n        });\n\n        let initialScheme = $('#custom-admin-color-picker input[type=radio]:checked').val();\n        updateColorIndicator(initialScheme);\n        $('#your-profile input[name=admin_color][value=' + initialScheme + ']').prop('checked', true);\n        $('#custom-admin-color-picker input[type=radio][value=' + initialScheme + ']').prop('checked', true)\n            .closest('.color-option').addClass('selected').siblings().removeClass('selected');\n    });\n})(jQuery);"],"names":["$","updateColorIndicator","scheme","$indicator","selectedPalette","siblings","html","children","addClass","append","$newShades","find","setTimeout","removeClass","remove","applyColorScheme","existingLink","length","cssUrl","colorOptionsAjax","adminUrl","id","rel","href","type","appendTo","updateDayNightTheme","theme","currentHour","Date","getHours","isDaytime","dayColorSelected","val","nightColorSelected","saveThemeAsDefault","post","ajax_url","action","nonce","response","success","alert","document","ready","on","colorScheme","selectedScheme","closest","color","prop","data","selectedTheme","click","initialScheme","jQuery"],"sourceRoot":""}